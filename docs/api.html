<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>api</title>
    <link
      rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.4.1/styles/github-gist.min.css"
    />
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      :root {
        --n1: 1.6;
        --n2: 2.16;
        --n3: 2.9439999999999995;
        --n4: 4.041599999999999;
        --n5: 5.578239999999998;
        --n6: 7.729535999999997;
        --n7: 10.741350399999995;
        --n8: 14.957890559999992;
        --n9: 20.86104678399999;
        --n10: 29.12546549759998;
        --dark1: #202020;
        --dark2: #252525;
        --dark3: #303030;
        --dark4: #353535;
        --light2: #dcdcdc;
        --light1: #f5f5f5;
      }

      html {
        font-size: 62.5%;
        /* font-size: calc(1em + 1vw); */
      }

      body {
        font-family: Georgia, Lucida Grande, Arial, Georgia;
        background-color: var(--light);
        /* ... */
        margin: calc(var(--n2) * 1rem) calc(var(--n1) * 1rem);
      }

      body * {
        font-size: calc(var(--n1) * 1rem);
        line-height: var(--n1);
        color: var(--dark1);
      }

      ul {
        margin-left: calc(var(--n2) * 1rem);
      }

      * + * {
        margin-top: calc(var(--n1) * 1rem);
      }

      header nav {
        text-transform: uppercase;
      }

      h1,
      h2,
      h3 {
        font-family: Arial;
        margin: calc(var(--n2) * 1rem) 0;
      }

      h1 {
        font-size: calc(var(--n2) * 1rem);
        color: var(--dark4);
      }

      h2 {
        font-size: calc(var(--n3) * 1rem);
        color: var(--dark3);
      }

      h3 {
        font-size: calc(var(--n2) * 1rem);
        color: var(--dark2);
      }

      hr {
        margin: calc(var(--n3) * 1rem) 0;
      }

      .synergy {
        font-family: Verdana, Trebuchet MS, Lucida Grande;
        /* font-weight: 400; */
        text-transform: lowercase;
        font-size: calc(var(--n3) * 1rem);
        /* color: #009900; */
        color: #66cc33;
      }

      .reset {
        text-decoration: none;
      }

      header {
        display: flex;
        justify-content: start;
        align-items: baseline;
        margin: calc(var(--n2) * 1rem) 0;
      }

      header nav a {
        color: var(--dark4);
      }

      header nav ul {
        list-style-type: none;
        display: flex;
        align-items: baseline;
      }

      header nav ul li {
        padding: 0 calc(var(--n1) * 1rem);
      }

      .readable {
        width: 100%;
        max-width: 50em;
      }

      .next {
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        font-size: calc(var(--n2) * 1rem);
        margin: calc(var(--n4) * 1rem) 0;
      }

      .next span {
        text-transform: uppercase;
        text-decoration: none;
        font-size: calc(var(--n1) * 1rem);
      }

      footer {
        display: flex;
        justify-content: space-between;
      }

      footer a:first-child {
        display: flex;
        align-items: flex-start;
      }
      footer a:last-child {
        display: flex;
        align-items: flex-end;
      }
    </style>
    <style>
      pre[class*="language-"] {
        /*margin: 1.75em 0;*/
        margin: calc(var(--n1) * 1rem) 0 0;
        font-size: calc(var(--n1) * 1rem);
        background: #222;
      }

      .hljs,
      code {
        background-color: var(--light1);
        padding: 0 3px;
        border-radius: 0.25em;
      }

      .hljs {
        padding: calc(var(--n1) * 1rem) 0;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>
        <a href="/" class="synergy reset">Synergy</a>
      </h1>
      <nav>
        <ul>
          <li>
            <a href="/documentation">docs</a>
          </li>
          <li>
            <a href="https://github.com/defx/synergy"> github </a>
          </li>
          <!-- <li><a href="/tutorials">tuts</a></li> -->
        </ul>
      </nav>
    </header>

    <main class="readable">
      <h2>API</h2>
      <p>
        The high-level Synergy API is comprised of just two functions, (<code
          >define</code
        >
        and <code>render</code>). The <code>define</code> function is used to
        register new custom elements, the reusable blocks that you will use to
        build your user interface. The lower-level <code>render</code> function
        is used to bind directly to the DOM. It's used by
        <code>define</code> under the hood, and you may also find this function
        useful for rendering the main DOM tree that contains your custom
        elements.
      </p>
      <p>
        In addition, the instances created by both <code>define</code> and
        <code>render</code> have a set of lifecycle events available for you to
        hook into with your own custom handler functions.
      </p>
      <h3>define</h3>
      <p>The <code>define()</code> function registers a new Custom Element.</p>
      <h4>Syntax</h4>
      <pre><code class="language-js">define(tagName, factory, template, options);
</code></pre>
      <h4>Parameters</h4>
      <ul>
        <li>
          <p>
            <code>tagName</code> (string) Name for the new custom element. As
            per the Custom Element spec, an elements name must include a hyphen.
          </p>
        </li>
        <li>
          <p>
            <code>factory</code> (function) A factory function that will be
            called whenever a new instance of your custom element is created. It
            will be provided with two arguments: an object representing the
            elements initial attribute name/value pairs, and the element node
            itself. Returns a plain JavaScript object to provide the viewmodel
            for your custom element.
          </p>
        </li>
        <li>
          <p>
            <code>template</code> (string|node) Either an HTML string or a
            <code>&lt;template&gt;</code> element node.
          </p>
        </li>
        <li>
          <p><code>options</code> (object) The available options are:</p>
          <ul>
            <li>
              <code>observedAttributes</code> (array) An array containing the
              element attributes that you want to observe.
            </li>
            <li>
              <code>shadowRoot</code> (string) A string representing the shadow
              <em>mode</em>. Can be one of either &quot;open&quot; or
              &quot;closed&quot;. If this option is omitted, then Shadow DOM is
              not used and <code>&lt;slot&gt;</code> functionality is
              polyfilled.
            </li>
          </ul>
        </li>
      </ul>
      <h4>factory</h4>
      <p>
        Your custom elements initial attribute names and values are passed to
        your factory function as the first argument when an instance of the
        element is created.
      </p>
      <pre><code class="language-js">const fooFactory = ({
  name = &quot;&quot;,
  disabled,
}) =&gt; {
  return {
    name,
    disabled,
  };
};
</code></pre>
      <p>
        Remember that, because these values are provided by the author of the
        document, there's no guarantee as to what you will receive, so you
        should <em>always</em> destructure the initial properties to get only
        the values you want (as opposed to spreading everything into your
        viewmodel).
      </p>
      <p>When destructuring your elements initial attributes...</p>
      <ul>
        <li>
          <p>
            <strong><em>Do</em></strong> provide default values for non-boolean
            properties to ensure that your element has what it needs, regardless
            of what it's provided with.
          </p>
        </li>
        <li>
          <p>
            <strong><em>Don't</em></strong> provide default values for boolean
            attributes, - if it's not present on the element then it
            <em>should</em> be undefined.
          </p>
        </li>
      </ul>
      <h4>Lifecycle Hooks</h4>
      <pre><code class="language-js">({
  connectedCallback() {
    /* Invoked each time the custom 
    element is appended into a document-
    connected element */
  },
  updatedCallback(prevState) {
    /* Invoked each time the view is 
    updated. This method is not called 
    after the initial render. prevState is 
    an object representing the state of 
    the viewmodel prior to the last update */
  },
  disconnectedCallback() {
    /* Invoked each time the custom 
    element is disconnected from the 
    DOM */
  },
  adoptedCallback() {
    /* Invoked each time the custom 
    element is moved to a new document */
  },
});
</code></pre>
      <h3>render</h3>
      <p>
        The <code>render()</code> method combines an HTML template with a
        JavaScript object and then appends the rendered HTML to an existing DOM
        element node.
      </p>
      <h4>Syntax</h4>
      <pre><code class="language-js">let view = synergy.render(
  element,
  viewmodel,
  template
);
</code></pre>
      <h4>Parameters</h4>
      <ul>
        <li>
          <p>
            <code>element</code> (node) An existing DOM element node to which
            the rendered HTML should be appended.
          </p>
        </li>
        <li>
          <p>
            <code>viewmodel</code> (object) A plain JavaScript object that
            contains the data for your view.
          </p>
        </li>
        <li>
          <p>
            <code>template</code> (string|node) Either an HTML string or a
            <code>&lt;template&gt;</code> element node.
          </p>
        </li>
      </ul>
      <h4>Return value</h4>
      <p>
        A proxied version of your JavaScript object that will automatically
        update the UI whenever any of its values change
      </p>
      <pre><code class="language-js">let view = synergy.render(
  document.getElementById(&quot;app&quot;),
  { message: &quot;Hello World!&quot; },
  `&lt;p&gt;{{ message }}&lt;/p&gt;`
);

view.message = &quot;¡Hola Mundo!&quot;;
</code></pre>
      <p>
        In the example above, we initialise the view with a paragraph that reads
        &quot;Hello World!&quot;. We then change the value of message to '¡Hola
        Mundo!' and Synergy updates the DOM automatically.
      </p>
    </main>
    <footer class="readable">
      <a href="getting-started" class="next">
        <span>< PREV</span>
        getting started
      </a>

      <a href="templates" class="next">
        <span>NEXT ></span>
        templates
      </a>
    </footer>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.4.1/highlight.min.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>
  </body>
</html>
